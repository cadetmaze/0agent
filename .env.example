# =============================================================================
# Only Reason 0 Agent — Environment Variables
# Copy this file to .env and fill in your values.
# =============================================================================

# ---------------------------------------------------------------------------
# Database (Postgres + pgvector)
# ---------------------------------------------------------------------------
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=onlyreason
POSTGRES_USER=onlyreason
POSTGRES_PASSWORD=changeme_postgres_password

# Supabase connection string (used by both TS runtime and Python service)
DATABASE_URL=postgresql://onlyreason:changeme_postgres_password@postgres:5432/onlyreason

# Supabase JS client config (used by TS runtime)
SUPABASE_URL=http://localhost:8000
SUPABASE_SERVICE_KEY=changeme_supabase_service_key

# ---------------------------------------------------------------------------
# Redis (BullMQ task queue)
# ---------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

# ---------------------------------------------------------------------------
# LLM Providers
# ---------------------------------------------------------------------------
# Anthropic (Claude) — primary model for judgment-heavy tasks
ANTHROPIC_API_KEY=sk-ant-changeme

# OpenAI — fallback / fast tasks
OPENAI_API_KEY=sk-changeme

# Ollama (local models) — for development and sensitive tasks
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3

# ---------------------------------------------------------------------------
# Credential Security
# ---------------------------------------------------------------------------
# AES-256 key for encrypting/decrypting credentials stored in DB.
# Generate with: openssl rand -hex 32
CREDENTIAL_ENCRYPTION_KEY=changeme_64_hex_chars_aes256_key

# ---------------------------------------------------------------------------
# Service Communication
# ---------------------------------------------------------------------------
# Shared token for TS runtime <-> Python judgment service auth
SERVICE_TOKEN=changeme_service_token

# Judgment service URL (from runtime's perspective)
JUDGMENT_SERVICE_URL=http://judgment:8001

# ---------------------------------------------------------------------------
# Agent Configuration
# ---------------------------------------------------------------------------
# UUID of this agent instance (set per deployment)
AGENT_ID=00000000-0000-0000-0000-000000000001

# UUID of the company this agent belongs to
COMPANY_ID=00000000-0000-0000-0000-000000000001

# ---------------------------------------------------------------------------
# Optional: Telemetry & Monitoring
# ---------------------------------------------------------------------------
# Log level: debug | info | warn | error
LOG_LEVEL=info

# Heartbeat interval in seconds
HEARTBEAT_INTERVAL_SECONDS=30

# ---------------------------------------------------------------------------
# Nginx
# ---------------------------------------------------------------------------
NGINX_PORT=80

# ---------------------------------------------------------------------------
# Channels (all optional — omit to disable)
# ---------------------------------------------------------------------------
# Telegram: get a token from @BotFather
TELEGRAM_BOT_TOKEN=
# Comma-separated phone numbers or usernames that can message the bot
TELEGRAM_ALLOWLIST=

# Slack (OAuth app)
SLACK_BOT_TOKEN=
SLACK_APP_TOKEN=

# ---------------------------------------------------------------------------
# Feature flags (true/false)
# ---------------------------------------------------------------------------
FEATURE_SKILLS=true
FEATURE_TELEGRAM=false
FEATURE_SLACK=false
FEATURE_BROWSER=true
FEATURE_SCHEDULER=true
FEATURE_VOICE=false
FEATURE_MCP=false
FEATURE_CONTEXT_COMPRESSION=true
FEATURE_PROMPT_CACHING=true
